<mvc:View
  controllerName="customdgfiori.controller.Pages.Chart"
  xmlns:mvc="sap.ui.core.mvc"
  xmlns="sap.m"
  xmlns:viz="sap.viz.ui5.controls"
  xmlns:vizdata="sap.viz.ui5.data"
  xmlns:vizFeeds="sap.viz.ui5.controls.common.feeds"
  height="100%">

  <Page title="Sales &amp; Profit Pie Chart" showNavButton="true" navButtonPress=".onNavBack" showHeader="false" >
    <Panel width="auto" class="sapUiResponsiveMargin" accessibleRole="Region" >
      <VBox fitContainer="true">
        <viz:VizFrame
          id="idPieChart"
          vizType="pie"
          uiConfig="{applicationSet:'fiori'}"
          height="600px"
          width="100%"
          legendVisible="true">

          <viz:dataset>
            <vizdata:FlattenedDataset data="{/Finances}">
              <vizdata:dimensions>
                <vizdata:DimensionDefinition name="Segment" value="{Segment}"/>
                <vizdata:DimensionDefinition name="Country" value="{Country}"/>
              </vizdata:dimensions>
              <vizdata:measures>
                <vizdata:MeasureDefinition name="Sales" value="{Sales}"/>
                <vizdata:MeasureDefinition name="Profit" value="{Profit}"/>
              </vizdata:measures>
            </vizdata:FlattenedDataset>
          </viz:dataset>

          <viz:feeds>
            <vizFeeds:FeedItem uid="size" type="Measure" values="Sales,Profit"/>
            <vizFeeds:FeedItem uid="color" type="Dimension" values="Segment,Country"/>
          </viz:feeds>

        </viz:VizFrame>
      </VBox>
    </Panel>
  </Page>
</mvc:View>
