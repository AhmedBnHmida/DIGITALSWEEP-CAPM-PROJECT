<mvc:View
    controllerName="customdgfiori.controller.Pages.ListReport"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core">
    <Page showHeader="false">
        <Panel width="auto" class="sapUiResponsiveMargin" accessibleRole="Region">

            <!-- Search Section -->
            <VBox class="sapUiSmallMargin">
                <HBox class="sapUiSmallMargin" wrap="Wrap">
                    <VBox class="sapUiSmallMargin">
                        <Label text="Global Search:" labelFor="globalSearch1"/>
                        <SearchField id="globalSearch1" width="25rem" liveChange=".onFilterChange" placeholder="Search all fields..." />
                    </VBox>

                    <VBox class="sapUiSmallMargin">
                        <Label text="Country:" labelFor="countrySearch1"/>
                        <MultiComboBox id="countrySearch1" width="15rem" selectionFinish=".onFilterChange" showSecondaryValues="true"
                            items="{
                                path: '/Finances',
                                parameters: { $apply: 'groupby((Country))' }
                            }">
                            <core:Item key="{Country}" text="{Country}"/>
                        </MultiComboBox>
                    </VBox>

                    <VBox class="sapUiSmallMargin">
                        <Label text="Segment:" labelFor="segmentSearch1"/>
                        <MultiComboBox id="segmentSearch1" width="15rem" selectionFinish=".onFilterChange" showSecondaryValues="true"
                            items="{
                                path: '/Finances',
                                parameters: { $apply: 'groupby((Segment))' }
                            }">
                            <core:Item key="{Segment}" text="{Segment}"/>
                        </MultiComboBox>
                    </VBox>

                    <VBox class="sapUiSmallMargin">
                        <Label text="Date:" labelFor="dateSearch1"/>
                        <DatePicker id="dateSearch1" change=".onFilterChange" displayFormat="yyyy-MM-dd" width="12rem"/>
                    </VBox>
                </HBox>
            </VBox>

            <!-- Table Section -->
            <Table
                id="financeTable"
                growing="true"
                growingThreshold="20"
                headerText="Finance Records"
                inset="false"
                mode="None">
                <headerToolbar>
                    <Toolbar>
                        <Title text="Finance Data"/>
                        <ToolbarSpacer/>
                        <Button text="Choose Columns" icon="sap-icon://multi-select" press=".onShowColumnSelection"/>
                        <Button text="Create" icon="sap-icon://add" press=".onCreatePress"/>
                    </Toolbar>
                </headerToolbar>
                <items>
                    <ColumnListItem>
                        <!-- Dynamic cells generated by controller -->
                    </ColumnListItem>
                </items>
            </Table>

        </Panel>
    </Page>
</mvc:View>
