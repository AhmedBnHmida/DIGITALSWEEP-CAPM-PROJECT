<mvc:View
    controllerName="customdgfiori.controller.Pages.ListReport"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core">
    <Page showHeader="false">
        <Panel width="auto" class="sapUiResponsiveMargin" accessibleRole="Region">

            <!-- Toolbar for search section header -->
            <Toolbar>
                <Title text="Filters"/>
                <ToolbarSpacer/>
                <Button text="Hide All Filters" icon="sap-icon://hide" press=".onHideAllFilters"/>
            </Toolbar>

            <!-- Search Section -->
            <VBox class="sapUiSmallMargin"  id="filtersVBox" >
                <HBox class="sapUiSmallMargin" wrap="Wrap">

                    <!-- Global Search -->
                    <VBox class="sapUiSmallMargin" id="globalSearchVBox" visible="true" >
                        <Label text="Global Search:" labelFor="globalSearch1"/>
                        <SearchField id="globalSearch1" width="25rem" liveChange=".onFilterChange" placeholder="Search all fields..." />
                    </VBox>

                    <!-- Country Filter -->
                    <VBox class="sapUiSmallMargin" id="countrySearchVBox" visible="true">
                        <Label text="Country:" labelFor="countrySearch1"/>
                        <MultiComboBox id="countrySearch1" width="15rem" selectionFinish=".onFilterChange" showSecondaryValues="true" placeholder="Select Country"
                            items="{ path: '/Finances', parameters: { $apply: 'groupby((Country))' } }">
                            <core:Item key="{Country}" text="{Country}"/>
                        </MultiComboBox>
                    </VBox>

                    <!-- Segment Filter -->
                    <VBox class="sapUiSmallMargin" id="segmentSearchVBox" visible="true" >
                        <Label text="Segment:" labelFor="segmentSearch1"/>
                        <MultiComboBox id="segmentSearch1" width="15rem" selectionFinish=".onFilterChange" showSecondaryValues="true" placeholder="Select Segment"
                            items="{ path: '/Finances', parameters: { $apply: 'groupby((Segment))' } }">
                            <core:Item key="{Segment}" text="{Segment}"/>
                        </MultiComboBox>
                    </VBox>

                    <!-- Product Filter -->
                    <VBox class="sapUiSmallMargin" id="productSearchVBox" visible="false">
                        <Label text="Product:" labelFor="productSearch1"/>
                        <MultiComboBox id="productSearch1" width="15rem" selectionFinish=".onFilterChange" showSecondaryValues="true" placeholder="Select Product"
                            items="{ path: '/Finances', parameters: { $apply: 'groupby((Product))' } }">
                            <core:Item key="{Product}" text="{Product}"/>
                        </MultiComboBox>
                    </VBox>

                    <!-- Discount Band Filter -->
                    <VBox class="sapUiSmallMargin" id="discountBandSearchVBox" visible="false">
                        <Label text="Discount Band:" labelFor="discountBandSearch1"/>
                        <MultiComboBox id="discountBandSearch1" width="15rem" selectionFinish=".onFilterChange" showSecondaryValues="true" placeholder="Select Discount Band"
                            items="{ path: '/Finances', parameters: { $apply: 'groupby((Discount_Band))' } }">
                            <core:Item key="{Discount_Band}" text="{Discount_Band}"/>
                        </MultiComboBox>
                    </VBox>

                    <!-- Month Name Filter -->
                    <VBox class="sapUiSmallMargin" id="monthNameSearchVBox" visible="false">
                        <Label text="Month Name:" labelFor="monthNameSearch1"/>
                        <MultiComboBox id="monthNameSearch1" width="12rem" selectionFinish=".onFilterChange" showSecondaryValues="true" placeholder="Select Month"
                            items="{ path: '/Finances', parameters: { $apply: 'groupby((Month_Name))' } }">
                            <core:Item key="{Month_Name}" text="{Month_Name}"/>
                        </MultiComboBox>
                    </VBox>

                    <!-- Month Number Filter -->
                    <VBox class="sapUiSmallMargin" id="monthNumberSearchVBox" visible="false">
                        <Label text="Month Number:" labelFor="monthNumberSearch1"/>
                        <MultiComboBox id="monthNumberSearch1" width="12rem" selectionFinish=".onFilterChange" showSecondaryValues="true" placeholder="Select Month Number"
                            items="{ path: '/Finances', parameters: { $apply: 'groupby((Month_Number))' } }">
                            <core:Item key="{Month_Number}" text="{Month_Number}"/>
                        </MultiComboBox>
                    </VBox>

                    <!-- Year Filter -->
                    <VBox class="sapUiSmallMargin" id="yearSearchVBox" visible="false">
                        <Label text="Year:" labelFor="yearSearch1"/>
                        <MultiComboBox id="yearSearch1" width="12rem" selectionFinish=".onFilterChange" showSecondaryValues="true" placeholder="Select Year"
                            items="{ path: '/Finances', parameters: { $apply: 'groupby((Year))' } }">
                            <core:Item key="{Year}" text="{Year}"/>
                        </MultiComboBox>
                    </VBox>

                    <!-- Date Filter -->
                    <VBox class="sapUiSmallMargin" id="dateSearchVBox" visible="true">
                        <Label text="Date:" labelFor="dateSearch1"/>
                        <DatePicker id="dateSearch1" change=".onFilterChange" displayFormat="yyyy-MM-dd" width="12rem"/>
                    </VBox>

                    <!-- Decimal Filters (example: Profit) -->
                    <VBox class="sapUiSmallMargin" id="profitVBox" visible="true">
                        <Label text="Profit (Min-Max)" labelFor="profitMin"/>
                        <HBox>
                            <Input id="profitMin" width="6rem" placeholder="Min" liveChange=".onFilterChange"/>
                            <Input id="profitMax" width="6rem" placeholder="Max" liveChange=".onFilterChange"/>
                        </HBox>
                    </VBox>

                    <!-- Repeat same wrapping for other decimal fields: COGS, Sales, Sale Price, Gross Sales, Manufacturing Price, Units Sold, Discounts -->
                    <VBox class="sapUiSmallMargin" id="cogsVBox" visible="false">
                        <Label text="COGS (Min-Max)" labelFor="cogsMin"/>
                        <HBox>
                            <Input id="cogsMin" width="6rem" placeholder="Min" liveChange=".onFilterChange"/>
                            <Input id="cogsMax" width="6rem" placeholder="Max" liveChange=".onFilterChange"/>
                        </HBox>
                    </VBox>

                    <VBox class="sapUiSmallMargin" id="salesVBox" visible="false">
                        <Label text="Sales (Min-Max)" labelFor="salesMin"/>
                        <HBox>
                            <Input id="salesMin" width="6rem" placeholder="Min" liveChange=".onFilterChange"/>
                            <Input id="salesMax" width="6rem" placeholder="Max" liveChange=".onFilterChange"/>
                        </HBox>
                    </VBox>

                    <VBox class="sapUiSmallMargin" id="salePriceVBox" visible="false">
                        <Label text="Sale Price (Min-Max)" labelFor="salePriceMin"/>
                        <HBox>
                            <Input id="salePriceMin" width="6rem" placeholder="Min" liveChange=".onFilterChange"/>
                            <Input id="salePriceMax" width="6rem" placeholder="Max" liveChange=".onFilterChange"/>
                        </HBox>
                    </VBox>

                    <VBox class="sapUiSmallMargin" id="grossSalesVBox" visible="false">
                        <Label text="Gross Sales (Min-Max)" labelFor="grossSalesMin"/>
                        <HBox>
                            <Input id="grossSalesMin" width="6rem" placeholder="Min" liveChange=".onFilterChange"/>
                            <Input id="grossSalesMax" width="6rem" placeholder="Max" liveChange=".onFilterChange"/>
                        </HBox>
                    </VBox>

                    <VBox class="sapUiSmallMargin" id="manuPriceVBox" visible="false">
                        <Label text="Manufacturing Price (Min-Max)" labelFor="manuPriceMin"/>
                        <HBox>
                            <Input id="manuPriceMin" width="6rem" placeholder="Min" liveChange=".onFilterChange"/>
                            <Input id="manuPriceMax" width="6rem" placeholder="Max" liveChange=".onFilterChange"/>
                        </HBox>
                    </VBox>

                    <VBox class="sapUiSmallMargin" id="unitsSoldVBox" visible="false">
                        <Label text="Units Sold (Min-Max)" labelFor="unitsSoldMin"/>
                        <HBox>
                            <Input id="unitsSoldMin" width="6rem" placeholder="Min" liveChange=".onFilterChange"/>
                            <Input id="unitsSoldMax" width="6rem" placeholder="Max" liveChange=".onFilterChange"/>
                        </HBox>
                    </VBox>

                    <VBox class="sapUiSmallMargin" id="discountsVBox" visible="false">
                        <Label text="Discounts (Min-Max)" labelFor="discountsMin"/>
                        <HBox>
                            <Input id="discountsMin" width="6rem" placeholder="Min" liveChange=".onFilterChange"/>
                            <Input id="discountsMax" width="6rem" placeholder="Max" liveChange=".onFilterChange"/>
                        </HBox>
                    </VBox>

                </HBox>
            </VBox>

            <!-- Table Section -->
            <Table
                id="financeTable"
                growing="true"
                growingThreshold="20"
                headerText="Finance Records"
                inset="false"
                mode="None">
                <headerToolbar>
                    <Toolbar>
                        <Title text="Finance Data"/>
                        <ToolbarSpacer/>
                         <Button text="Select Filters" icon="sap-icon://filter-fields" press=".onSelectFilters"/>
                        <Button text="Choose Columns" icon="sap-icon://multi-select" press=".onShowColumnSelection"/>
                        <Button text="Create" icon="sap-icon://add" press=".onCreatePress"/>
                    </Toolbar>
                </headerToolbar>
                <items>
                    <ColumnListItem>
                        <!-- Dynamic cells generated by controller -->
                    </ColumnListItem>
                </items>
            </Table>

        </Panel>
    </Page>
</mvc:View>
